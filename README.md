# プログラマー雇用形態推移グラフ作成プログラム

このプログラムは、プログラマーの雇用形態（正社員 vs 非正規雇用）の推移を可視化し、統計情報を出力します。

## ⚠️ 重要な注意事項

**デフォルトではサンプルデータ（架空データ）を使用します。**

実際の統計分析や公開資料に使用する場合は、必ず実データを取得してください。

## 使用方法

### 1. サンプルデータで動作確認（デフォルト）

```bash
python3 programmer_employment_graph.py
```

この場合、プログラムに埋め込まれた架空のサンプルデータが使用され、警告メッセージが表示されます。

### 2. 実データを使用する場合

#### 方法A: `data_source.csv` を自動検出

プログラムと同じディレクトリに `data_source.csv` を配置すると、自動的に実データとして使用されます。

```bash
# data_source.csv を配置後
python3 programmer_employment_graph.py
```

#### 方法B: コマンドライン引数で指定

```bash
python3 programmer_employment_graph.py --input your_data.csv
```

#### 方法C: 出力ファイル名も指定

```bash
python3 programmer_employment_graph.py --input your_data.csv --output result.png
```

### 3. ヘルプの表示

```bash
python3 programmer_employment_graph.py --help
```

## 実データの取得方法

### 推奨データソース

実際のプログラマー雇用データは、以下の公的統計から取得できます：

1. **e-Stat（政府統計の総合窓口）**
   - URL: https://www.e-stat.go.jp/
   - 「労働力調査」→ 「詳細集計」→ 「職業別・雇用形態別」
   - データセット: 「2-10-2 雇用形態，職業別雇用者数（2013年1月～）」

2. **総務省統計局**
   - URL: https://www.stat.go.jp/data/roudou/
   - 労働力調査の詳細集計データ

### データ取得手順

1. e-Stat（https://www.e-stat.go.jp/）にアクセス
2. 検索ボックスで「労働力調査」を検索
3. 「詳細集計」のデータを選択
4. 「職業別・雇用形態別」のカテゴリを探す
5. 職業分類で「情報処理・通信技術者」→「ソフトウェア作成者」を選択
6. 雇用形態別（正規・非正規）のデータをダウンロード
7. CSV形式に整形して保存

### CSVファイルのフォーマット

実データのCSVファイルは以下の形式である必要があります：

#### 必須列

- `年`: 西暦年（例: 2013, 2014, ...）
- `正社員`: 正社員の人数（単位: 万人）
- `非正規雇用`: 非正規雇用の合計人数（単位: 万人）

#### 例

```csv
年,正社員,非正規雇用
2013,100,50
2014,105,55
2015,110,60
2016,115,65
2017,120,70
2018,125,75
2019,130,80
2020,135,85
2021,140,90
2022,145,95
2023,150,100
2024,155,105
```

#### オプション列（非正規雇用の内訳）

より詳細な分析のため、非正規雇用の内訳を含めることもできます：

```csv
年,正社員,非正規雇用,フリーランス・高スキル業務委託,契約社員（元請・2次請）,派遣（3次請以下）,低賃金契約（3次請以下）
2013,100,50,20,15,10,5
...
```

### テンプレートファイル

`data_source_template.csv` をコピーして、実データを入力してください：

```bash
cp data_source_template.csv data_source.csv
# data_source.csv を編集して実データを入力
```

## 出力ファイル

プログラムを実行すると、以下のファイルが生成されます：

1. **`programmer_employment_pandas.png`** - グラフ画像（高解像度PNG、300dpi）
2. **`programmer_employment_data.csv`** - 計算結果を含むデータ（合計、比率など）

## データの注意事項

### プログラマーの定義

- 日本標準職業分類における「ソフトウェア作成者」
- システムエンジニア（SE）やプロジェクトマネージャー（PM）は含まない
- 元請・下請全階層を含む

### 雇用形態の分類

- **正社員**: 正規雇用（期間の定めのない雇用契約）
- **非正規雇用**: 以下を含む
  - フリーランス・業務委託
  - 契約社員
  - 派遣社員
  - パート・アルバイト

## 必要なパッケージ

```bash
pip install pandas matplotlib
```

または：

```bash
pip install -r requirements.txt
```

## トラブルシューティング

### 日本語フォントの警告が出る場合

matplotlibで日本語フォントが見つからない場合、警告が表示されますが、グラフは生成されます。

日本語を正しく表示するには、以下のフォントをインストールしてください：

- macOS: ヒラギノフォント（標準搭載）
- Windows: メイリオ、Yu Gothic
- Linux: IPAフォント、Noto Sans CJK JP

### CSVファイルが読み込めない場合

エラーメッセージを確認してください：

- **ファイルが見つかりません**: ファイルパスを確認
- **必須列が不足しています**: CSVに「年」「正社員」「非正規雇用」列があるか確認
- **文字化け**: UTF-8エンコーディングで保存されているか確認

## ライセンスと免責事項

このプログラムはサンプルとして提供されています。実際の統計分析や公開資料に使用する場合は、必ず公的統計から取得した実データを使用してください。

サンプルデータは説明目的のみであり、実際の雇用状況を反映するものではありません。

## 参考リンク

- [e-Stat（政府統計の総合窓口）](https://www.e-stat.go.jp/)
- [総務省統計局 労働力調査](https://www.stat.go.jp/data/roudou/)
- [日本標準職業分類](https://www.stat.go.jp/index/seido/shokgyou/)
